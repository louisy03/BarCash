import mysql.connector

class UserModel:
    @staticmethod
    def obtener_conexion():
        """
        Devuelve una conexión a la base de datos MySQL.
        """
        return mysql.connector.connect(
            host="localhost",          # Cambia a la dirección de tu servidor MySQL
            user="tu_usuario",         # Cambia por tu usuario de MySQL
            password="tu_contraseña",  # Cambia por tu contraseña
            database="barcash"         # Cambia por el nombre de tu base de datos
        )

    @staticmethod
    def verificar_credenciales(usuario, contrasena):
        """
        Verifica si las credenciales de usuario son correctas.
        """
        try:
            conexion = UserModel.obtener_conexion()
            cursor = conexion.cursor()

            # Consulta para verificar las credenciales
            query = "SELECT * FROM usuarios WHERE nombre_usuario = %s AND contrasena = %s"
            cursor.execute(query, (usuario, contrasena))
            usuario_db = cursor.fetchone()

            # Cierra la conexión
            cursor.close()
            conexion.close()

            return usuario_db is not None

        except mysql.connector.Error as err:
            print(f"Error al conectar a la base de datos: {err}")
            return False
